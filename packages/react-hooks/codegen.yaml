schema: ${KEPLER_SUBQL}
documents:
  - ./src/graphql/*.ts
config:
  preResolveTypes: true
  namingConvention: keep
  avoidOptionals: true
  nonOptionalTypename: true
  skipTypeNameForRoot: true
  immutableTypes: true
  scalars:
    Date: Date
    Datetime: Date 
    BigFloat: bigint | string
    BigInt: bigint
    Cursor: string
generates:
  src/__hooks__/base-types.ts:
    plugins:
      - typescript
      - typescript-operations
  src/:
    preset: near-operation-file
    presetConfig:
      folder: ../__hooks__
      extensions: .generated.ts
      baseTypesPath: __hooks__/base-types.ts
    config: 
      importOperationTypesFrom: Types
    plugins:
      - typescript-react-apollo
hooks:
  afterAllFileWrite:
    - prettier --write
    - yarn cti create ./src/__hooks__ -i base-types --withoutbackup