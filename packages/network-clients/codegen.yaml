schema: ${KEPLER_SUBQL}
documents:
  - ./src/graphql/*.ts
config:
  preResolveTypes: true
  namingConvention: keep
  avoidOptionals: true
  nonOptionalTypename: true
  skipTypeNameForRoot: true
  immutableTypes: true
  scalars:
    Date: Date
    Datetime: Date 
    BigFloat: bigint | string
    BigInt: bigint
    Cursor: string
generates:
  src/types/base-types.ts:
    plugins:
      - typescript
      - typescript-operations
  src/:
    preset: near-operation-file
    presetConfig:
      folder: ../types
      extensions: .generated.ts
      baseTypesPath: types/base-types.ts
    plugins:
      - typescript-operations
hooks:
  afterAllFileWrite:
    - prettier --write
    - yarn cti create ./src/types -i base-types --withoutbackup