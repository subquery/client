# Copyright 2020-2022 SubQuery Pte Ltd authors & contributors
# SPDX-License-Identifier: Apache-2.0

fragment IndexerFields on Indexer {
  id
  metadata
  controller
  commission
  totalStake
}

query GetIndexer($address: String!) {
  indexer(id: $address) {
    ...IndexerFields
  }
}

query GetIndexers($offset: Int, $order: IndexersOrderBy = ID_ASC) {
  indexers(first: 10, offset: $offset, orderBy: [$order], filter: { active: { equalTo: true } }) {
    totalCount
    nodes {
      ...IndexerFields
    }
  }
}